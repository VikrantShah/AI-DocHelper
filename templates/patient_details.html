{% extends 'default_p.html' %}
{% block title %}
    Patient Details -
{% endblock title %}
{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_default_p.css') }}" class="css">
{% endblock css %}
{% block content %}
    <br>
    <h2>
      <b>
        Patient Details
      </b>
    </h2>
    <br>
    {% if patients|length == 0 %}
      <div class="alert alert-dark" role="alert">
        No Patients Found.
      </div>
    
    {% else %}
    <table class="table table-dark table-striped">
        <thead>
          <tr>
            <th scope="col">Patient ID</th>
            <th scope="col">Name</th>
            <th scope="col">Age</th>
            <th scope="col">Gender</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Email</th>
            <th scope="col">Reference By</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>

          {% for patient in patients %}
            <tr>
              <th scope="row">{{ patient.pid }}</th>
              <td>{{ patient.pname }}</td>
              <td>{{ patient.page }}</td>
              <td>{{ patient.gender }}</td>
              <td>{{ patient.pphno }}</td>
              <td>{{ patient.pemail }}</td>
              <td>{{ patient.refer }}</td>
              <td>
                  <a href="{{ url_for('update_patient_details', pid=patient.pid ) }}" type="button" class="btn btn-dark btn-outline-light btn-sn mx-1">Update</button>
                  <a href="{{ url_for('delete_patient_details', pid=patient.pid ) }}" type="button" class="btn btn-dark btn-outline-light btn-sn mx-1">Delete</button>
              </td>
            </tr>
          {% endfor %}
          
        </tbody>
      </table>
    {% endif %}
{% endblock content %}